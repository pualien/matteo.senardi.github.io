!function(){var e=document,t=window,n=e.documentElement,r="IntersectionObserver"in t,i="function"==typeof t.matchMedia&&t.matchMedia("(prefers-reduced-motion: reduce)").matches,o=function(e,n){"function"!=typeof t.requestIdleCallback?t.setTimeout(e,1):t.requestIdleCallback(e,{timeout:n||1e3})},a=function(e,n){var r=!1,i=["scroll","pointerdown","keydown","touchstart"],a=0,c=function(){r||(r=!0,i.forEach(function(e){t.removeEventListener(e,c,!0)}),a&&t.clearTimeout(a),o(e,1200))};i.forEach(function(e){t.addEventListener(e,c,{once:!0,passive:!0,capture:!0})}),a=t.setTimeout(c,n||1500)},c=e.getElementById("year");c&&(c.textContent=String((new Date).getFullYear()));var l=e.getElementById("years-exp");l&&(l.textContent=String((new Date).getFullYear()-2016));var s=e.getElementById("theme-toggle");if(s){var d=s.querySelector("[data-theme-icon]"),u=function(e){n.setAttribute("data-theme",e),d&&(d.textContent="dark"===e?"☀":"☾"),s.setAttribute("aria-label","dark"===e?"Switch to light mode":"Switch to dark mode")};u("dark"===n.getAttribute("data-theme")?"dark":"light"),s.addEventListener("click",function(){var e="dark"===n.getAttribute("data-theme")?"light":"dark";u(e);try{localStorage.setItem("theme",e)}catch(e){}})}var f=e.getElementById("mobile-btn"),h=e.getElementById("mobile-menu");if(f&&h){var g=f.querySelector("[data-mobile-icon]");f.addEventListener("click",function(){var e=h.classList.toggle("open");f.setAttribute("aria-expanded",String(e)),h.setAttribute("aria-hidden",String(!e)),g&&(g.textContent=e?"✕":"☰")}),h.addEventListener("click",function(e){e.target&&"A"===e.target.tagName&&(h.classList.remove("open"),f.setAttribute("aria-expanded","false"),h.setAttribute("aria-hidden","true"),g&&(g.textContent="☰"))})}var v,m,p,b=function(){var t=Array.prototype.slice.call(e.querySelectorAll("img[data-pypi-badge]"));if(t.length){var n=!1,i=function(t){if(t&&"true"!==t.getAttribute("data-loaded")){var r=t.getAttribute("data-pypi-badge");r&&(!function(){if(!n){n=!0;var t=e.createElement("link");t.rel="preconnect",t.href="https://img.shields.io",t.crossOrigin="anonymous",e.head.appendChild(t);var r=e.createElement("link");r.rel="dns-prefetch",r.href="//img.shields.io",e.head.appendChild(r)}}(),t.src="https://img.shields.io/pypi/dm/"+encodeURIComponent(r),t.alt=r+" monthly downloads",t.setAttribute("data-loaded","true"))}};if(r){var a=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(i(e.target),t.unobserve(e.target))})},{rootMargin:"250px 0px"});t.forEach(function(e){a.observe(e)})}else o(function(){t.forEach(function(e){i(e)})},1500)}},E=function(){var n=Array.prototype.slice.call(e.querySelectorAll(".nav__link")),o=e.querySelectorAll("section[id], footer[id], header[id]"),a=e.getElementById("scroll-top"),c=function(e){e&&n.forEach(function(t){t.classList.toggle("active",t.getAttribute("href")==="#"+e)})};if(o.length&&n.length&&r){var l={},s=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.target.id;t&&(e.isIntersecting?l[t]=e.intersectionRatio:delete l[t])});var t="",n=-1;Object.keys(l).forEach(function(e){var r=l[e];r>n&&(n=r,t=e)}),t&&c(t)},{rootMargin:"-35% 0px -55% 0px",threshold:[0,.5,1]});o.forEach(function(e){s.observe(e)})}else if(o.length&&n.length){var d=!1,u=function(){var e=t.scrollY+120,n="";o.forEach(function(t){t.offsetTop<=e&&(n=t.id)}),c(n)};t.addEventListener("scroll",function(){d||(d=!0,t.requestAnimationFrame(function(){u(),d=!1}))},{passive:!0}),u()}if(a){var f=function(){a.classList.toggle("visible",t.scrollY>500)},h=!1;t.addEventListener("scroll",function(){h||(h=!0,t.requestAnimationFrame(function(){f(),h=!1}))},{passive:!0}),f(),a.addEventListener("click",function(){t.scrollTo({top:0,behavior:i?"auto":"smooth"})})}},y=function(){!function(){var t=e.querySelectorAll(".reveal");if(t.length)if(!i&&r){var n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -40px 0px"});t.forEach(function(e){n.observe(e)})}else t.forEach(function(e){e.classList.add("visible")})}(),o(E,1200),o(b,2e3)};v=function(){a(y,2200)},m=1e3,p=function(){o(v,m)},"complete"!==e.readyState?t.addEventListener("load",p,{once:!0}):p()}();